{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block title %}‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß{% endblock %}

{% block content %}
<div class="flex bg-[#c9e3e1] min-h-screen">

  <!-- Sidebar -->
  <aside class="w-64 bg-white p-6">
    <div class="flex flex-col items-center">
      <div class="w-20 h-20 bg-gray-300 rounded-full overflow-hidden">
        {% if profile.avatar %}
          <img src="{{ profile.avatar.url }}" alt="Avatar" class="w-full h-full object-cover rounded-full">
        {% endif %}
      </div>
      <p class="mt-2 font-semibold">{{ profile.user.username }}</p>
      <a href="{% url 'accounts:edit_profile' %}" class="text-sm text-blue-500">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</a>
    </div>

    <nav class="mt-6 space-y-4">
      <a href="{% url 'accounts:profile' %}" class="flex items-center gap-2 text-gray-700">
        <span>üë§</span> ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô
      </a>

      <a href="{% url 'orders:order_history' %}" class="flex items-center gap-2 text-gray-700">
        <span>üìú</span> ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥
      </a>

      <a href="{% url 'accounts:address_list' %}" class="flex items-center gap-2 text-gray-700">
        <span>üìç</span> ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà
      </a>

      <hr class="my-4">

      <p class="text-gray-500 text-sm mb-2">‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ö‡∏±‡∏ç‡∏ä‡∏µ</p>
      <div class="flex flex-col space-y-2 text-sm text-gray-700">
        <a href="{% url 'account_email' %}">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏•</a>
        <a href="{% url 'accounts:change_phone' %}">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ö‡∏≠‡∏£‡πå</a>
        <a href="{% url 'account_change_password' %}">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</a>
      </div>

      <hr class="my-4">

      <a href="{% url 'accounts:wishlist' %}" class="flex items-center gap-2 text-gray-700">
        <span>‚ù§Ô∏è</span> ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÉ‡∏à
      </a>
      <a href="{% url 'orders:order_history' %}" class="flex items-center gap-2 text-gray-700">
        <span>üßæ</span> ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
      </a>
    </nav>
  </aside>

  <!-- Main content: ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç -->
  <main class="flex-1 p-10 max-w-4xl mx-auto">
    <h2 class="text-3xl font-semibold mb-6">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</h2>

    <form method="POST" enctype="multipart/form-data" class="bg-white p-6 rounded-xl shadow-md space-y-4">
      {% csrf_token %}

      <div>
        <label class="block text-gray-700 mb-1">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</label>
        <input type="text" value="{{ user.username }}" class="w-full px-4 py-2 border rounded bg-gray-100" disabled>
      </div>

      <div>
        <label class="block text-gray-700 mb-1">‡∏ä‡∏∑‡πà‡∏≠</label>
        {{ form.first_name|add_class:"w-full px-4 py-2 border rounded" }}
      </div>

      <div>
        <label class="block text-gray-700 mb-1">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
        <input type="email" value="{{ user.email }}" class="w-full px-4 py-2 border rounded bg-gray-100" disabled>
      </div>

      <div>
        <label class="block text-gray-700 mb-1">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
        {{ form.phone|add_class:"w-full px-4 py-2 border rounded" }}
      </div>

      <div>
        <label class="block text-gray-700 mb-1">‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</label>
        {% if profile.avatar %}
          <img src="{{ profile.avatar.url }}" class="w-20 h-20 rounded-full mb-2 object-cover" alt="">
        {% endif %}
        {{ form.avatar }}
        <p class="text-xs text-gray-500 mt-1">‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 1MB (.JPEG, .PNG)</p>
      </div>

      <div class="pt-2">
        <button type="submit" class="bg-gray-700 text-white px-5 py-2 rounded hover:bg-gray-800">
          ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
        </button>
      </div>
    </form>
  </main>
</div>
{% endblock %}
